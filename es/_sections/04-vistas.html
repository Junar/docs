

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Vistas de Datos &mdash; Documentación de API v2 2.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Documentación de API v2 2.0 documentation" href="../index.html"/>
        <link rel="next" title="Visualizaciones" href="05-visualizaciones.html"/>
        <link rel="prev" title="Conjunto de Datos" href="03-conjunto_de_datos.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Documentación de API v2
          

          
          </a>

          
            
            
              <div class="version">
                2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="01-index.html">1. Introducción</a></li>
<li class="toctree-l1"><a class="reference internal" href="02-topicos.html">2. Tópicos</a></li>
<li class="toctree-l1"><a class="reference internal" href="03-conjunto_de_datos.html">3. Conjunto de datos</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">4. Vistas</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#estructura-json-de-la-salida-data-json">Estructura JSON de la salida data.json</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ejemplos-de-salida-de-los-datos">Ejemplos de salida de los datos</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ejemplo-sobre-el-retorno-de-data-json">Ejemplo sobre el retorno de <em>data.json</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="#ejemplo-sobre-el-retorno-de-data-pjson">Ejemplo sobre el retorno de <em>data.pjson</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="#ejemplo-sobre-el-retorno-de-data-ajson">Ejemplo sobre el retorno de <em>data.ajson</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="#ejemplo-sobre-el-retorno-de-data-xml">Ejemplo sobre el retorno de <em>data.xml</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="#ejemplo-sobre-el-retorno-de-data-csv">Ejemplo sobre el retorno de <em>data.csv</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="#ejemplo-sobre-el-retorno-de-data-xls">Ejemplo sobre el retorno de <em>data.xls</em></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#consumiendo-una-vista-de-datos-con-parametros">Consumiendo una vista de datos con parámetros</a></li>
<li class="toctree-l2"><a class="reference internal" href="#filtrar-los-resultados-de-una-vista">Filtrar los resultados de una vista</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ordenar-los-datos">Ordenar los Datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="#formateo-de-datos">Formateo de Datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="#establecer-formato-de-valores-numericos">Establecer formato de valores númericos</a></li>
<li class="toctree-l2"><a class="reference internal" href="#agrupaciones-y-funciones-sobre-vistas-de-datos">Agrupaciones y Funciones sobre vistas de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="#publicacion-y-actualizacion-via-api">Publicación y actualización via API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="05-visualizaciones.html">5. Visualizaciones</a></li>
<li class="toctree-l1"><a class="reference internal" href="06-colecciones.html">6. Colecciones</a></li>
<li class="toctree-l1"><a class="reference internal" href="07-estadisticas.html">7. Estadísticas del portal</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Documentación de API v2</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Vistas de Datos</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/_sections/04-vistas.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="vistas-de-datos">
<h1>Vistas de Datos<a class="headerlink" href="#vistas-de-datos" title="Permalink to this headline">¶</a></h1>
<p>Una vista de datos es un recurso construido por un usuario a partir de una selección personalizada de filas y columnas en base a un conjunto de datos. Esta selección de datos puede incluir modificaciones adicionales sobre los datos originales, como incluir cabeceras, cambio en el tipo de dato o cambios en el formato de salida de los números</p>
<p>En el recurso vista existe una llamada especial para mostrar todos sus datos:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">GET</span>   <span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">v2</span><span class="o">/</span><span class="n">datastreams</span><span class="o">/</span><span class="p">{</span><span class="n">guid</span><span class="p">}</span><span class="o">/</span><span class="n">data</span><span class="o">.</span><span class="p">{</span><span class="nb">format</span><span class="p">}</span>
</pre></div>
</div>
<p>El path que termina en data. <code class="docutils literal"><span class="pre">{format}</span></code>  permite retornar un nuevo campo <code class="docutils literal"><span class="pre">result</span></code>: donde están los datos del origen del recurso</p>
<p>El <code class="docutils literal"><span class="pre">{format}</span></code>  puede tomar uno de los siguientes valores:</p>
<ul class="simple">
<li>json: Retorna un json con la estructura definida en el siguiente apartado.</li>
<li>ajson: Retorna un array de arrays json dentro de un elemento ‘result’.</li>
<li>pjson: Retorna un array con etiquetas para cada elemento. Utiliza siempre la primera fila como la vista de origen para las etiquetas.</li>
<li>jsonp: Retorna los datos en formato JSONP</li>
<li>csv: Retorna un documento de texto separado por comas.</li>
<li>xml: Retorna los datos como una estructura XML.</li>
<li>xls: Retorna un enlace dentro de un elemento fUri para descargar una versión en XLS de la vista de datos.</li>
</ul>
<p>Existe además una salida especial reemplazando <code class="docutils literal"><span class="pre">data.{format}</span></code> por <code class="docutils literal"><span class="pre">tableau.html</span></code>, la cual permite la integración con la aplicación Tableau al utilizar este nuevo endpoint como origen de datos desde la aplicación.</p>
<div class="section" id="estructura-json-de-la-salida-data-json">
<h2>Estructura JSON de la salida data.json<a class="headerlink" href="#estructura-json-de-la-salida-data-json" title="Permalink to this headline">¶</a></h2>
<p>El resultado es un objeto Argument, el cual es una estructura recursiva de datos que contiene las siguientes propiedades:</p>
<ul class="simple">
<li>fType: Indica el tipo de dato del Argument. Sus valores pueden ser ARRAY | TEXT | NUMBER | DATE. El tipo ARRAY indica que el argumento contiene una TABLA. El tipo por defecto de los datos dentro de una TABLA es TEXT, a menos que se haya definido otro tipo de datos durante la creación. El tipo de dato puede ser modificado en cada consulta via API.</li>
<li>Cuando el tipo de datos es un ARRAY, fRows y fCols indican el número de filas y columnas de la TABLA. De la misma manera, fArray contiene los datos de la TABLA como un arreglo de objetos Argument.</li>
<li>Cuando el tipo de datos es TEXT el valor está contenido en fStr. Para un tipo de dato NUMBER el valor esta contenido en fNum. Para un tipo de dato DATE el valor está contenido en fNum como epoch time.</li>
<li>Un Argument puede contener un enlace LINK. En esos casos, fType contiene LINK, la uri correspondiente viene en fUri y el texto a mostrar está contenido en fStr.</li>
<li>Un array puede contener también el valor fHeader. Si fHeader es igual a “true”, significa que ese campo es parte de las cabeceras seleccionadas en la vista de datos.</li>
<li>Cuando el tipo de datos es ERROR, ocurrió un error al ejecutar la vista de datos. El mensaje de error estará contenido en fStr.</li>
<li>Cuando un error ocurre en la conexión con la fuente, el resultado es reemplazado con el último resultado que fue ejecutado correctamente.</li>
<li>Para reconocer si el resultado está actualizado, existe una propiedad adicional llamada fTimestamp. Contiene el tiempo POSIX de cuando fue <strong>accedida la fuente de datos</strong> de forma exitosamente por última vez. Si fTimestamp tiene un valor igual a 0, significa que el resultado fue obtenido en ese instante.</li>
</ul>
</div>
<div class="section" id="ejemplos-de-salida-de-los-datos">
<h2>Ejemplos de salida de los datos<a class="headerlink" href="#ejemplos-de-salida-de-los-datos" title="Permalink to this headline">¶</a></h2>
<div class="section" id="ejemplo-sobre-el-retorno-de-data-json">
<h3>Ejemplo sobre el retorno de <em>data.json</em><a class="headerlink" href="#ejemplo-sobre-el-retorno-de-data-json" title="Permalink to this headline">¶</a></h3>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;fLength&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
        <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;ARRAY&quot;</span><span class="p">,</span>
        <span class="nt">&quot;fTimestamp&quot;</span><span class="p">:</span> <span class="mi">1457102225405</span><span class="p">,</span>
        <span class="nt">&quot;fArray&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;Congreso Nacional - Biblioteca del Congreso&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;Cifras en miles de $&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;Código BIP&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;Nombre de Proyecto&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;Monto Identificado&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;Remodelación Administración Valparaíso&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;26,505&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fHeader&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;Bóveda y sala preservación colecciones valiosas&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fHeader&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;111,564&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fHeader&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;Raparaciones daños terremoto, Sector Biblioteca&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;66,440&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;Proyectos de climatización en Santiago y Valparaíso&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;62,101&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;TOTAL IDENTIFICADO&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;266,610&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">}</span>
        <span class="p">],</span>
        <span class="nt">&quot;fRows&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
        <span class="nt">&quot;fCols&quot;</span><span class="p">:</span> <span class="mi">3</span>
  <span class="p">},</span>
  <span class="nt">&quot;endpoint&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.dipres.gob.cl/574/articles-74267_doc_xls.xls&quot;</span><span class="p">,</span>
  <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Inversiones BCN durante el año 2011 según art. 24 de Ley de Presupuestos N° 18.482&quot;</span><span class="p">,</span>
  <span class="nt">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">[],</span>
  <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[],</span>
  <span class="nt">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2012-06-04T14:12:52&quot;</span><span class="p">,</span>
  <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Nóminas de Iniciativas de Inversión (M$) Biblioteca del Congreso Nacional&quot;</span><span class="p">,</span>
  <span class="nt">&quot;link&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="nt">&quot;user&quot;</span><span class="p">:</span> <span class="s2">&quot;publicador&quot;</span><span class="p">,</span>
  <span class="nt">&quot;guid&quot;</span><span class="p">:</span> <span class="s2">&quot;NOMIN-DE-BIBLI-DEL-12877&quot;</span><span class="p">,</span>
  <span class="nt">&quot;category_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Finanzas&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="ejemplo-sobre-el-retorno-de-data-pjson">
<h3>Ejemplo sobre el retorno de <em>data.pjson</em><a class="headerlink" href="#ejemplo-sobre-el-retorno-de-data-pjson" title="Permalink to this headline">¶</a></h3>
<div class="highlight-json"><div class="highlight"><pre><span></span>{
&quot;result&quot;: [
{
&quot;GASTO-REGISTRADO&quot;: &quot;&quot;,
&quot;INFORME-DE-EJECUCION-TRIMESTRAL-PERIODO-2012&quot;: &quot;Versión : Ejecución DIPRES&quot;,
&quot;MINISTERIO-DE-HACIENDA&quot;: &quot;Dirección de Presupeustos&quot;
},
{
&quot;GASTO-REGISTRADO&quot;: &quot;&quot;,
&quot;INFORME-DE-EJECUCION-TRIMESTRAL-PERIODO-2012&quot;: &quot;Moneda Nacional - Miles de Pesos - Monto Devengado&quot;,
&quot;MINISTERIO-DE-HACIENDA&quot;: &quot;&quot;
},
{
&quot;GASTO-REGISTRADO&quot;: &quot;&quot;,
&quot;INFORME-DE-EJECUCION-TRIMESTRAL-PERIODO-2012&quot;: &quot;11  PARTIDA : MINISTERIO DE DEFENSA NACIONAL&quot;,
&quot;MINISTERIO-DE-HACIENDA&quot;: &quot;&quot;
},
{
&quot;GASTO-REGISTRADO&quot;: &quot;Ejecución acumulada al Primer Trimestre&quot;,
&quot;INFORME-DE-EJECUCION-TRIMESTRAL-PERIODO-2012&quot;: &quot;Clasificación Económica&quot;,
&quot;MINISTERIO-DE-HACIENDA&quot;: &quot;Subt.&quot;
},
{
&quot;GASTO-REGISTRADO&quot;: &quot;350,239,182&quot;,
&quot;INFORME-DE-EJECUCION-TRIMESTRAL-PERIODO-2012&quot;: &quot;INGRESOS&quot;,
&quot;MINISTERIO-DE-HACIENDA&quot;: &quot;&quot;
},
{
&quot;GASTO-REGISTRADO&quot;: &quot;1,787,369&quot;,
&quot;INFORME-DE-EJECUCION-TRIMESTRAL-PERIODO-2012&quot;: &quot;RENTAS DE LA PROPIEDAD&quot;,
&quot;MINISTERIO-DE-HACIENDA&quot;: &quot;06&quot;
},
{
&quot;GASTO-REGISTRADO&quot;: &quot;85,459,417&quot;,
&quot;INFORME-DE-EJECUCION-TRIMESTRAL-PERIODO-2012&quot;: &quot;INGRESOS DE OPERACION&quot;,
&quot;MINISTERIO-DE-HACIENDA&quot;: &quot;07&quot;
},
{
&quot;GASTO-REGISTRADO&quot;: &quot;2,464,229&quot;,
&quot;INFORME-DE-EJECUCION-TRIMESTRAL-PERIODO-2012&quot;: &quot;OTROS INGRESOS CORRIENTES&quot;,
&quot;MINISTERIO-DE-HACIENDA&quot;: &quot;08&quot;
},
{
&quot;GASTO-REGISTRADO&quot;: &quot;228,441,645&quot;,
&quot;INFORME-DE-EJECUCION-TRIMESTRAL-PERIODO-2012&quot;: &quot;APORTE FISCAL&quot;,
&quot;MINISTERIO-DE-HACIENDA&quot;: &quot;09&quot;
},
{
&quot;GASTO-REGISTRADO&quot;: &quot;1,553&quot;,
&quot;INFORME-DE-EJECUCION-TRIMESTRAL-PERIODO-2012&quot;: &quot;VENTA DE ACTIVOS NO FINANCIEROS&quot;,
&quot;MINISTERIO-DE-HACIENDA&quot;: &quot;10&quot;
},
{
&quot;GASTO-REGISTRADO&quot;: &quot;-200,000&quot;,
&quot;INFORME-DE-EJECUCION-TRIMESTRAL-PERIODO-2012&quot;: &quot;VENTA DE ACTIVOS FINANCIEROS&quot;,
&quot;MINISTERIO-DE-HACIENDA&quot;: &quot;11&quot;
},
{
&quot;GASTO-REGISTRADO&quot;: &quot;32,284,969&quot;,
&quot;INFORME-DE-EJECUCION-TRIMESTRAL-PERIODO-2012&quot;: &quot;RECUPERACION DE PRESTAMOS&quot;,
&quot;MINISTERIO-DE-HACIENDA&quot;: &quot;12&quot;
},
{
&quot;GASTO-REGISTRADO&quot;: &quot;0&quot;,
&quot;INFORME-DE-EJECUCION-TRIMESTRAL-PERIODO-2012&quot;: &quot;SALDO INICIAL DE CAJA&quot;,
&quot;MINISTERIO-DE-HACIENDA&quot;: &quot;15&quot;
},
{
&quot;GASTO-REGISTRADO&quot;: &quot;309,580,095&quot;,
&quot;INFORME-DE-EJECUCION-TRIMESTRAL-PERIODO-2012&quot;: &quot;GASTOS&quot;,
&quot;MINISTERIO-DE-HACIENDA&quot;: &quot;&quot;
},
{
&quot;GASTO-REGISTRADO&quot;: &quot;216,709,098&quot;,
&quot;INFORME-DE-EJECUCION-TRIMESTRAL-PERIODO-2012&quot;: &quot;GASTOS EN PERSONAL&quot;,
&quot;MINISTERIO-DE-HACIENDA&quot;: &quot;21&quot;
},
{
&quot;GASTO-REGISTRADO&quot;: &quot;50,929,915&quot;,
&quot;INFORME-DE-EJECUCION-TRIMESTRAL-PERIODO-2012&quot;: &quot;BIENES Y SERVICIOS DE CONSUMO&quot;,
&quot;MINISTERIO-DE-HACIENDA&quot;: &quot;22&quot;
},
{
&quot;GASTO-REGISTRADO&quot;: &quot;292,887&quot;,
&quot;INFORME-DE-EJECUCION-TRIMESTRAL-PERIODO-2012&quot;: &quot;PRESTACIONES DE SEGURIDAD SOCIAL&quot;,
&quot;MINISTERIO-DE-HACIENDA&quot;: &quot;23&quot;
{
&quot;GASTO-REGISTRADO&quot;: &quot;6,926,828&quot;,
&quot;INFORME-DE-EJECUCION-TRIMESTRAL-PERIODO-2012&quot;: &quot;TRANSFERENCIAS CORRIENTES&quot;,
&quot;MINISTERIO-DE-HACIENDA&quot;: &quot;24&quot;
},
{
&quot;GASTO-REGISTRADO&quot;: &quot;295,054&quot;,
&quot;INFORME-DE-EJECUCION-TRIMESTRAL-PERIODO-2012&quot;: &quot;INTEGROS AL FISCO&quot;,
&quot;MINISTERIO-DE-HACIENDA&quot;: &quot;25&quot;
},
{
&quot;GASTO-REGISTRADO&quot;: &quot;72,619&quot;,
&quot;INFORME-DE-EJECUCION-TRIMESTRAL-PERIODO-2012&quot;: &quot;OTROS GASTOS CORRIENTES&quot;,
&quot;MINISTERIO-DE-HACIENDA&quot;: &quot;26&quot;
},
{
&quot;GASTO-REGISTRADO&quot;: &quot;1,096,186&quot;,
&quot;INFORME-DE-EJECUCION-TRIMESTRAL-PERIODO-2012&quot;: &quot;ADQUISICION DE ACTIVOS NO FINANCIEROS&quot;,
&quot;MINISTERIO-DE-HACIENDA&quot;: &quot;29&quot;
},
{
&quot;GASTO-REGISTRADO&quot;: &quot;825,448&quot;,
&quot;INFORME-DE-EJECUCION-TRIMESTRAL-PERIODO-2012&quot;: &quot;INICIATIVAS DE INVERSION&quot;,
&quot;MINISTERIO-DE-HACIENDA&quot;: &quot;31&quot;
},

    {
&quot;timestamp&quot;: 1466534470176,
&quot;length&quot;: 27
}
],
&quot;endpoint&quot;: &quot;http://www.sampleurl.gov/573/87684_public_record.xls&quot;,
&quot;description&quot;: &quot;json&quot;,
&quot;parameters&quot;: [

],
&quot;tags&quot;: [

],
&quot;timestamp&quot;: null,
&quot;created_at&quot;: &quot;2012-06-04T14:12:52&quot;,
&quot;title&quot;: &quot;prueba json&quot;,
&quot;modified_at&quot;: &quot;2016-06-21T14:59:52&quot;,
&quot;category_id&quot;: 40524,
&quot;link&quot;: null,
&quot;user&quot;: &quot;administrador&quot;,
&quot;guid&quot;: &quot;PRUEB-JSON&quot;,
&quot;category_name&quot;: &quot;Seguridad Pública&quot;
}
</pre></div>
</div>
</div>
<div class="section" id="ejemplo-sobre-el-retorno-de-data-ajson">
<h3>Ejemplo sobre el retorno de <em>data.ajson</em><a class="headerlink" href="#ejemplo-sobre-el-retorno-de-data-ajson" title="Permalink to this headline">¶</a></h3>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span>
          <span class="s2">&quot;Congreso Nacional - Biblioteca del Congreso&quot;</span><span class="p">,</span>
          <span class="s2">&quot;&quot;</span><span class="p">,</span>
          <span class="s2">&quot;&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;&quot;</span><span class="p">,</span>
          <span class="s2">&quot;&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Cifras en miles de $&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;Código BIP&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Nombre de Proyecto&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Monto Identificado&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Remodelación Administración Valparaíso&quot;</span><span class="p">,</span>
          <span class="s2">&quot;26,505&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Bóveda y sala preservación colecciones valiosas&quot;</span><span class="p">,</span>
          <span class="s2">&quot;111,564&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Raparaciones daños terremoto, Sector Biblioteca&quot;</span><span class="p">,</span>
          <span class="s2">&quot;66,440&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;&quot;</span><span class="p">,</span>
          <span class="s2">&quot;Proyectos de climatización en Santiago y Valparaíso&quot;</span><span class="p">,</span>
          <span class="s2">&quot;62,101&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
          <span class="s2">&quot;TOTAL IDENTIFICADO&quot;</span><span class="p">,</span>
          <span class="s2">&quot;&quot;</span><span class="p">,</span>
          <span class="s2">&quot;266,610&quot;</span>
        <span class="p">]</span>
  <span class="p">],</span>
  <span class="nt">&quot;endpoint&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.dipres.gob.cl/574/articles-74267_doc_xls.xls&quot;</span><span class="p">,</span>
  <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Inversiones BCN durante el año 2011 según art. 24 de Ley de Presupuestos N° 18.482&quot;</span><span class="p">,</span>
  <span class="nt">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">[],</span>
  <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[],</span>
  <span class="nt">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2012-06-04T14:12:52&quot;</span><span class="p">,</span>
  <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Nóminas de Iniciativas de Inversión (M$) Biblioteca del Congreso Nacional&quot;</span><span class="p">,</span>
  <span class="nt">&quot;link&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="nt">&quot;user&quot;</span><span class="p">:</span> <span class="s2">&quot;publicador&quot;</span><span class="p">,</span>
  <span class="nt">&quot;guid&quot;</span><span class="p">:</span> <span class="s2">&quot;NOMIN-DE-BIBLI-DEL-12877&quot;</span><span class="p">,</span>
  <span class="nt">&quot;category_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Finanzas&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="ejemplo-sobre-el-retorno-de-data-xml">
<h3>Ejemplo sobre el retorno de <em>data.xml</em><a class="headerlink" href="#ejemplo-sobre-el-retorno-de-data-xml" title="Permalink to this headline">¶</a></h3>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;table&gt;</span>
        <span class="nt">&lt;row&gt;</span>
                <span class="nt">&lt;column&gt;</span>Congreso Nacional - Biblioteca del Congreso<span class="nt">&lt;/column&gt;</span>
                <span class="nt">&lt;column/&gt;</span>
                <span class="nt">&lt;column/&gt;</span>
        <span class="nt">&lt;/row&gt;</span>
        <span class="nt">&lt;row&gt;</span>
                <span class="nt">&lt;column/&gt;</span>
                <span class="nt">&lt;column/&gt;</span>
                <span class="nt">&lt;column&gt;</span>Cifras en miles de $<span class="nt">&lt;/column&gt;</span>
        <span class="nt">&lt;/row&gt;</span>
        <span class="nt">&lt;row&gt;</span>
                <span class="nt">&lt;column&gt;</span>Código BIP<span class="nt">&lt;/column&gt;</span>
                <span class="nt">&lt;column&gt;</span>Nombre de Proyecto<span class="nt">&lt;/column&gt;</span>
                <span class="nt">&lt;column&gt;</span>Monto Identificado<span class="nt">&lt;/column&gt;</span>
        <span class="nt">&lt;/row&gt;</span>
        <span class="nt">&lt;row&gt;</span>
                <span class="nt">&lt;column/&gt;</span>
                <span class="nt">&lt;column&gt;</span>Remodelación Administración Valparaíso<span class="nt">&lt;/column&gt;</span>
                <span class="nt">&lt;column&gt;</span>26,505<span class="nt">&lt;/column&gt;</span>
        <span class="nt">&lt;/row&gt;</span>
        <span class="nt">&lt;row&gt;</span>
                <span class="nt">&lt;column/&gt;</span>
                <span class="nt">&lt;column&gt;</span>Bóveda y sala preservación colecciones valiosas<span class="nt">&lt;/column&gt;</span>
                <span class="nt">&lt;column&gt;</span>111,564<span class="nt">&lt;/column&gt;</span>
        <span class="nt">&lt;/row&gt;</span>
        <span class="nt">&lt;row&gt;</span>
                <span class="nt">&lt;column/&gt;</span>
                <span class="nt">&lt;column&gt;</span>Raparaciones daños terremoto, Sector Biblioteca<span class="nt">&lt;/column&gt;</span>
                <span class="nt">&lt;column&gt;</span>66,440<span class="nt">&lt;/column&gt;</span>
        <span class="nt">&lt;/row&gt;</span>
        <span class="nt">&lt;row&gt;</span>
                <span class="nt">&lt;column/&gt;</span>
                <span class="nt">&lt;column&gt;</span>Proyectos de climatización en Santiago y Valparaíso<span class="nt">&lt;/column&gt;</span>
                <span class="nt">&lt;column&gt;</span>62,101<span class="nt">&lt;/column&gt;</span>
        <span class="nt">&lt;/row&gt;</span>
        <span class="nt">&lt;row&gt;</span>
                <span class="nt">&lt;column&gt;</span>TOTAL IDENTIFICADO<span class="nt">&lt;/column&gt;</span>
                <span class="nt">&lt;column/&gt;</span>
                <span class="nt">&lt;column&gt;</span>266,610<span class="nt">&lt;/column&gt;</span>
        <span class="nt">&lt;/row&gt;</span>
<span class="nt">&lt;/table&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="ejemplo-sobre-el-retorno-de-data-csv">
<h3>Ejemplo sobre el retorno de <em>data.csv</em><a class="headerlink" href="#ejemplo-sobre-el-retorno-de-data-csv" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;Congreso Nacional - Biblioteca del Congreso&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span>
<span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Cifras en miles de $&quot;</span>
<span class="s2">&quot;Código BIP&quot;</span><span class="p">,</span><span class="s2">&quot;Nombre de Proyecto&quot;</span><span class="p">,</span><span class="s2">&quot;Monto Identificado&quot;</span>
<span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Remodelación Administración Valparaíso&quot;</span><span class="p">,</span><span class="s2">&quot;26,505&quot;</span>
<span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Bóveda y sala preservación colecciones valiosas&quot;</span><span class="p">,</span><span class="s2">&quot;111,564&quot;</span>
<span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Raparaciones daños terremoto, Sector Biblioteca&quot;</span><span class="p">,</span><span class="s2">&quot;66,440&quot;</span>
<span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Proyectos de climatización en Santiago y Valparaíso&quot;</span><span class="p">,</span><span class="s2">&quot;62,101&quot;</span>
<span class="s2">&quot;TOTAL IDENTIFICADO&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;266,610&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="ejemplo-sobre-el-retorno-de-data-xls">
<h3>Ejemplo sobre el retorno de <em>data.xls</em><a class="headerlink" href="#ejemplo-sobre-el-retorno-de-data-xls" title="Permalink to this headline">¶</a></h3>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;fUri&quot;</span><span class="p">:</span> <span class="s2">&quot;http://datastore.dev:8888/resources/datal_temp/2016-03-10/temp_1386265881861839185.xlsx&quot;</span><span class="p">,</span>
  <span class="nt">&quot;fNum&quot;</span><span class="p">:</span> <span class="mi">302</span><span class="p">,</span>
  <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;REDIRECT&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="consumiendo-una-vista-de-datos-con-parametros">
<h2>Consumiendo una vista de datos con parámetros<a class="headerlink" href="#consumiendo-una-vista-de-datos-con-parametros" title="Permalink to this headline">¶</a></h2>
<p>Una vista de datos puede contener parámetros. Los parámetros pueden agregarse a la vista de datos solamente durante el proceso de creación. Estos parámetros pueden estar mapeados contra un formulario en un sitio web, directamente contra la URL de la fuente de datos o contra columnas de datos dentro de la tabla sobre la cual se crea la vista. La sintaxis apropiada para agregar parámetros en una solicitud API es
<code class="docutils literal"><span class="pre">pArgumentN=X</span></code>
Donde N es la posición del parámetro en la vista, empezando desde cero y X es el valor que tendrá dicho parámetro.</p>
<dl class="docutils">
<dt>Ejemplo:</dt>
<dd><a class="reference external" href="http://junardemo.cloudapi.junar.com/api/v2/datastreams/INFRA-INFRA-TOTAL-SUM-89083/data.ajson/?auth_key=MI_AUTH_KEY&amp;pArgument0=Brazil&amp;pArgument1=2008">http://junardemo.cloudapi.junar.com/api/v2/datastreams/INFRA-INFRA-TOTAL-SUM-89083/data.ajson/?auth_key=MI_AUTH_KEY&amp;pArgument0=Brazil&amp;pArgument1=2008</a></dd>
</dl>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
        <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">[</span><span class="s2">&quot;Country&quot;</span><span class="p">,</span> <span class="s2">&quot;Year&quot;</span><span class="p">,</span> <span class="s2">&quot;Type&quot;</span><span class="p">,</span> <span class="s2">&quot;Sector&quot;</span><span class="p">,</span> <span class="s2">&quot;Subsector&quot;</span><span class="p">,</span> <span class="s2">&quot;National Currency (millons)&quot;</span><span class="p">,</span> <span class="s2">&quot;USD (millons)&quot;</span><span class="p">,</span> <span class="s2">&quot;Percentage of GDP&quot;</span><span class="p">],</span>
                <span class="p">[</span><span class="s2">&quot;Brazil&quot;</span><span class="p">,</span> <span class="s2">&quot;2008&quot;</span><span class="p">,</span> <span class="s2">&quot;Public&quot;</span><span class="p">,</span> <span class="s2">&quot;Total sectors&quot;</span><span class="p">,</span> <span class="s2">&quot;Total subsectors&quot;</span><span class="p">,</span> <span class="s2">&quot;37176.01&quot;</span><span class="p">,</span> <span class="s2">&quot;20272.993&quot;</span><span class="p">,</span> <span class="s2">&quot;1.19545&quot;</span><span class="p">],</span>
                <span class="p">[</span><span class="s2">&quot;Brazil&quot;</span><span class="p">,</span> <span class="s2">&quot;2008&quot;</span><span class="p">,</span> <span class="s2">&quot;Private&quot;</span><span class="p">,</span> <span class="s2">&quot;Total sectors&quot;</span><span class="p">,</span> <span class="s2">&quot;Total subsectors&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;27909.700&quot;</span><span class="p">,</span> <span class="s2">&quot;1.64576&quot;</span><span class="p">],</span>
                <span class="p">[</span><span class="s2">&quot;Brazil&quot;</span><span class="p">,</span> <span class="s2">&quot;2008&quot;</span><span class="p">,</span> <span class="s2">&quot;Total&quot;</span><span class="p">,</span> <span class="s2">&quot;Total sectors&quot;</span><span class="p">,</span> <span class="s2">&quot;Total subsectors&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;48182.693&quot;</span><span class="p">,</span> <span class="s2">&quot;2.84121&quot;</span><span class="p">]</span>
        <span class="p">],</span>
        <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Investment data at current prices in local currency (millions), USD (millions) and % of GDP&quot;</span><span class="p">,</span>
        <span class="nt">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">[{</span>
                <span class="nt">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;Argentina&quot;</span><span class="p">,</span>
                <span class="nt">&quot;position&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Country&quot;</span><span class="p">,</span>
                <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
        <span class="p">},</span> <span class="p">{</span>
                <span class="nt">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;2015&quot;</span><span class="p">,</span>
                <span class="nt">&quot;position&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Year&quot;</span><span class="p">,</span>
                <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
        <span class="p">}],</span>
        <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;InfraLatam&quot;</span><span class="p">,</span> <span class="s2">&quot;Infrastructure&quot;</span><span class="p">],</span>
        <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-10-02T17:04:02Z&quot;</span><span class="p">,</span>
        <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;[InfraLatam] Infrastructure total - sum from all infrastructure sectors&quot;</span><span class="p">,</span>
        <span class="nt">&quot;modified_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-10-02T17:45:08Z&quot;</span><span class="p">,</span>
        <span class="nt">&quot;category_id&quot;</span><span class="p">:</span> <span class="mi">83353</span><span class="p">,</span>
        <span class="nt">&quot;sources&quot;</span><span class="p">:</span> <span class="p">[{</span>
                <span class="nt">&quot;source__id&quot;</span><span class="p">:</span> <span class="mi">2109</span><span class="p">,</span>
                <span class="nt">&quot;source__name&quot;</span><span class="p">:</span> <span class="s2">&quot;InfraLatam&quot;</span><span class="p">,</span>
                <span class="nt">&quot;source__url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://infralatam.info/&quot;</span>
        <span class="p">}],</span>
        <span class="nt">&quot;frequency&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="nt">&quot;link&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;user&quot;</span><span class="p">:</span> <span class="s2">&quot;junardemo&quot;</span><span class="p">,</span>
        <span class="nt">&quot;guid&quot;</span><span class="p">:</span> <span class="s2">&quot;INFRA-INFRA-TOTAL-SUM-89083&quot;</span><span class="p">,</span>
        <span class="nt">&quot;category_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Default Category&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="filtrar-los-resultados-de-una-vista">
<h2>Filtrar los resultados de una vista<a class="headerlink" href="#filtrar-los-resultados-de-una-vista" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>La API de Datos Abiertos de Junar permite a sus usuarios filtrar los resultados obtenidos durante la solicitud de una vista de datos utilizando la siguiente sintaxis:</dt>
<dd><a class="reference external" href="http://junardemo.cloudapi.junar.com/api/v2/datastreams/INFRA-INFRA-TOTAL-SUM-FROM/data.pjson/?auth_key=MI_AUTH_KEY&amp;filter0=column5[%3E]1900000&amp;filter1=column0[==]Chile&amp;where=(filter0%20and%20filter1">http://junardemo.cloudapi.junar.com/api/v2/datastreams/INFRA-INFRA-TOTAL-SUM-FROM/data.pjson/?auth_key=MI_AUTH_KEY&amp;filter0=column5[%3E]1900000&amp;filter1=column0[==]Chile&amp;where=(filter0%20and%20filter1</a>)</dd>
</dl>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
        <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">[{</span>
                <span class="nt">&quot;Sector&quot;</span><span class="p">:</span> <span class="s2">&quot;Total sectors&quot;</span><span class="p">,</span>
                <span class="nt">&quot;National-Currency-millons&quot;</span><span class="p">:</span> <span class="s2">&quot;2,195,474.14&quot;</span><span class="p">,</span>
                <span class="nt">&quot;USD-millons&quot;</span><span class="p">:</span> <span class="s2">&quot;3,914.48&quot;</span><span class="p">,</span>
                <span class="nt">&quot;Country&quot;</span><span class="p">:</span> <span class="s2">&quot;Chile&quot;</span><span class="p">,</span>
                <span class="nt">&quot;Percentage-of-GDP&quot;</span><span class="p">:</span> <span class="s2">&quot;2.28&quot;</span><span class="p">,</span>
                <span class="nt">&quot;Subsector&quot;</span><span class="p">:</span> <span class="s2">&quot;Total subsectors&quot;</span><span class="p">,</span>
                <span class="nt">&quot;Year&quot;</span><span class="p">:</span> <span class="s2">&quot;2009&quot;</span><span class="p">,</span>
                <span class="nt">&quot;Type&quot;</span><span class="p">:</span> <span class="s2">&quot;Public&quot;</span>
        <span class="p">},</span> <span class="p">{</span>
                <span class="nt">&quot;Sector&quot;</span><span class="p">:</span> <span class="s2">&quot;Total sectors&quot;</span><span class="p">,</span>
                <span class="nt">&quot;National-Currency-millons&quot;</span><span class="p">:</span> <span class="s2">&quot;2,058,057.01&quot;</span><span class="p">,</span>
                <span class="nt">&quot;USD-millons&quot;</span><span class="p">:</span> <span class="s2">&quot;4,230.58&quot;</span><span class="p">,</span>
                <span class="nt">&quot;Country&quot;</span><span class="p">:</span> <span class="s2">&quot;Chile&quot;</span><span class="p">,</span>
                <span class="nt">&quot;Percentage-of-GDP&quot;</span><span class="p">:</span> <span class="s2">&quot;1.6&quot;</span><span class="p">,</span>
                <span class="nt">&quot;Subsector&quot;</span><span class="p">:</span> <span class="s2">&quot;Total subsectors&quot;</span><span class="p">,</span>
                <span class="nt">&quot;Year&quot;</span><span class="p">:</span> <span class="s2">&quot;2012&quot;</span><span class="p">,</span>
                <span class="nt">&quot;Type&quot;</span><span class="p">:</span> <span class="s2">&quot;Public&quot;</span>
        <span class="p">},</span> <span class="p">{</span>
                <span class="nt">&quot;Sector&quot;</span><span class="p">:</span> <span class="s2">&quot;Total sectors&quot;</span><span class="p">,</span>
                <span class="nt">&quot;National-Currency-millons&quot;</span><span class="p">:</span> <span class="s2">&quot;2,236,255.69&quot;</span><span class="p">,</span>
                <span class="nt">&quot;USD-millons&quot;</span><span class="p">:</span> <span class="s2">&quot;4,515.2&quot;</span><span class="p">,</span>
                <span class="nt">&quot;Country&quot;</span><span class="p">:</span> <span class="s2">&quot;Chile&quot;</span><span class="p">,</span>
                <span class="nt">&quot;Percentage-of-GDP&quot;</span><span class="p">:</span> <span class="s2">&quot;1.63&quot;</span><span class="p">,</span>
                <span class="nt">&quot;Subsector&quot;</span><span class="p">:</span> <span class="s2">&quot;Total subsectors&quot;</span><span class="p">,</span>
                <span class="nt">&quot;Year&quot;</span><span class="p">:</span> <span class="s2">&quot;2013&quot;</span><span class="p">,</span>
                <span class="nt">&quot;Type&quot;</span><span class="p">:</span> <span class="s2">&quot;Public&quot;</span>
        <span class="p">},</span> <span class="p">{</span>
                <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span> <span class="mi">1506965828308</span><span class="p">,</span>
                <span class="nt">&quot;length&quot;</span><span class="p">:</span> <span class="mi">0</span>
        <span class="p">}],</span>
        <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Investment data at current prices in local currency (millions), USD (millions) and % of GDP&quot;</span><span class="p">,</span>
        <span class="nt">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;InfraLatam&quot;</span><span class="p">,</span> <span class="s2">&quot;Infrastructure&quot;</span><span class="p">],</span>
        <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-10-02T17:04:02Z&quot;</span><span class="p">,</span>
        <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;[InfraLatam] Infrastructure total - sum from all infrastructure sectors&quot;</span><span class="p">,</span>
        <span class="nt">&quot;modified_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-10-02T17:37:09Z&quot;</span><span class="p">,</span>
        <span class="nt">&quot;category_id&quot;</span><span class="p">:</span> <span class="mi">83353</span><span class="p">,</span>
        <span class="nt">&quot;sources&quot;</span><span class="p">:</span> <span class="p">[{</span>
                <span class="nt">&quot;source__id&quot;</span><span class="p">:</span> <span class="mi">2109</span><span class="p">,</span>
                <span class="nt">&quot;source__name&quot;</span><span class="p">:</span> <span class="s2">&quot;InfraLatam&quot;</span><span class="p">,</span>
                <span class="nt">&quot;source__url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://infralatam.info/&quot;</span>
        <span class="p">}],</span>
        <span class="nt">&quot;frequency&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="nt">&quot;link&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;user&quot;</span><span class="p">:</span> <span class="s2">&quot;junardemo&quot;</span><span class="p">,</span>
        <span class="nt">&quot;guid&quot;</span><span class="p">:</span> <span class="s2">&quot;INFRA-INFRA-TOTAL-SUM-FROM&quot;</span><span class="p">,</span>
        <span class="nt">&quot;category_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Default Category&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Esto retorna todos los datos que sean mayores a 2.000.000 en la columna 5 y sean iguales a la palabra “Chile” en la columna 0.</p>
<p>Los filtros pueden ir desde 0 a N (filter0, filter1…filterN) y tienen la siguiente sintaxis:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">operando0</span> <span class="o">|</span> <span class="n">operador</span> <span class="n">lógico</span> <span class="o">|</span> <span class="n">operando1</span>
</pre></div>
</div>
<p>Los operando0 pueden ser rownum (número de fila) o columnN (columna N, donde N es un entero que va desde 0 a N). El operando1 por lo general es una cadena de texto, número o fecha.</p>
<p>Los operadores lógicos pueden ser:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="o">==</span><span class="p">],</span> <span class="p">[</span><span class="o">&gt;</span><span class="p">],</span> <span class="p">[</span><span class="o">&lt;</span><span class="p">],</span> <span class="p">[</span><span class="o">!=</span><span class="p">],</span> <span class="p">[</span><span class="n">contains</span><span class="p">],</span> <span class="p">[</span><span class="o">&gt;=</span><span class="p">],</span> <span class="p">[</span><span class="o">&lt;=</span><span class="p">]</span>
</pre></div>
</div>
<p>Los corchetes [] deben ser incluidos. Los operandos son sensibles a mayúsculas si el contenido es una cadena de texto. En el caso del operador lógico [contains], el orden de los operandos debe invertirse.</p>
<p>La operación where tiene una expresión lógica para concatenar filtros de tipo AND u OR. En este caso, se utilizaría (filter0 and filter1). Las expresiones and y or sirven para diferenciar la relación entre los filtros y pueden concatenarse tanto como fuera necesario para cumplir una cierta condicion por ejemplo:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">filter0</span> <span class="ow">and</span> <span class="n">filter1</span><span class="p">)</span> <span class="ow">or</span> <span class="n">filter2</span><span class="o">.</span>
</pre></div>
</div>
<p>Si se utiliza como operando un número o fecha, la misma debe venir formateada como tal en la vista de datos. Si no viene formateada, puede aplicarse un formato a través de la API (ver apartado siguiente).</p>
<p>Cuando se agrega una fecha como parámetro debe incluirse utilizando el formato MM/dd/aaaa.</p>
</div>
<div class="section" id="ordenar-los-datos">
<h2>Ordenar los Datos<a class="headerlink" href="#ordenar-los-datos" title="Permalink to this headline">¶</a></h2>
<p>La API permite ordenar los resultados obtenidos durante la solicitud de una vista de datos utilizando el parámetro <code class="docutils literal"><span class="pre">orderBy</span></code>. Debe indicarse la columna sobre la cual deseamos ordenar los resultados y entre corchetes si el orden debe ser ascedente [A] o descendente [D].</p>
<blockquote>
<div><a class="reference external" href="http://junardemo.cloudapi.junar.com/api/v2/datastreams/INFRA-INFRA-TOTAL-SUM-FROM/data.pjson/?auth_key=MI_AUTH_KEY&amp;orderBy0=column0[A]&amp;orderBy1=column1[D">http://junardemo.cloudapi.junar.com/api/v2/datastreams/INFRA-INFRA-TOTAL-SUM-FROM/data.pjson/?auth_key=MI_AUTH_KEY&amp;orderBy0=column0[A]&amp;orderBy1=column1[D</a>]</div></blockquote>
<p>En este caso ordenamos la primer columna (Country) de forma ascendente y la segunda columna (Year) de forma descendente.</p>
</div>
<div class="section" id="formateo-de-datos">
<h2>Formateo de Datos<a class="headerlink" href="#formateo-de-datos" title="Permalink to this headline">¶</a></h2>
<p>Permite a los desarrolladores el dar formato a columnas de datos con un tipo y formato que afectará cómo son devueltos los datos de la consulta. Usa la siguiente sintaxis y debe aplicarse a una columna que ya haya sido objeto de un filtro :</p>
<p><code class="docutils literal"><span class="pre">format={&quot;table&quot;:[{&quot;id&quot;:&quot;column10&quot;,</span> <span class="pre">&quot;type&quot;:&quot;DATE&quot;,</span> <span class="pre">&quot;format&quot;:{&quot;country&quot;:&quot;ES&quot;,</span> <span class="pre">&quot;lang&quot;:&quot;es&quot;,</span> <span class="pre">&quot;style&quot;:</span> <span class="pre">&quot;dd/MM/yyyy&quot;}}]}</span></code></p>
<p>Donde :</p>
<ul class="simple">
<li>id : Corresponde a la posición de la columna a filtrar. Esta columna debe haber sido objeto de un filtro para poder ser formateada.</li>
<li>type: El tipo de dato que contiene la columna. Por defecto todas las columnas se consideran de tipo texto (TEXT), pero pueden cambiarse a fecha (DATE) o número (NUMBER).</li>
<li>format : Dependiendo del tipo elegido puede requerir la siguiente información.</li>
</ul>
<p>El formato DATE requiere country (país), lang (idioma) y style (estilo). Los valores de country y lang corresponden al formato ISO, mientras que posibles valores de style pueden encontrarse aquí:</p>
<p><a class="reference external" href="http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html">http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html</a></p>
<p><code class="docutils literal"><span class="pre">{&quot;table&quot;:[{&quot;id&quot;:&quot;column10&quot;,</span> <span class="pre">&quot;type&quot;:&quot;DATE&quot;,</span> <span class="pre">&quot;format&quot;:{&quot;country&quot;:&quot;CL&quot;,</span> <span class="pre">&quot;lang&quot;:&quot;es&quot;,</span> <span class="pre">&quot;style&quot;:</span> <span class="pre">&quot;dd/MM/yyyy&quot;}}]}</span></code></p>
<p>El formato NUMBER requiere country (país), lang (idioma) y pattern (patrón). Los patrones permiten definir cómo se separarán los miles y los decimales o si las cifran irán agrupadas de acuerdo a estándares asociados al país e idioma elegidos</p>
<p><code class="docutils literal"><span class="pre">{&quot;table&quot;:[{&quot;id&quot;:&quot;column4&quot;,</span> <span class="pre">&quot;type&quot;:&quot;NUMBER&quot;,</span> <span class="pre">&quot;format&quot;:{&quot;country&quot;:&quot;US&quot;,</span> <span class="pre">&quot;lang&quot;:&quot;es&quot;,</span> <span class="pre">&quot;pattern&quot;:&quot;&quot;,</span> <span class="pre">&quot;decimals&quot;:&quot;&quot;,</span> <span class="pre">&quot;thousands&quot;:&quot;&quot;}}]}</span></code></p>
<p>Ejemplo</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;SACRA-ANNUA-CRIME-STATI&quot;</span><span class="p">,</span>
  <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Sacramento Annual Crime Statistics&quot;</span><span class="p">,</span>
  <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Year to date information on different types of crimes and variation 2012 2013&quot;</span><span class="p">,</span>
  <span class="nt">&quot;user&quot;</span><span class="p">:</span> <span class="s2">&quot;sacramento&quot;</span><span class="p">,</span>
  <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;ARRAY&quot;</span><span class="p">,</span>
        <span class="nt">&quot;fArray&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;Homicide&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;7&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;10&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fNum&quot;</span><span class="p">:</span> <span class="mf">3.0</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;NUMBER&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;42.9%&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;Robbery&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;275&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;309&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fNum&quot;</span><span class="p">:</span> <span class="mf">34.0</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;NUMBER&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;12.4%&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;Burglary&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;944&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;1,084&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fNum&quot;</span><span class="p">:</span> <span class="mf">140.0</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;NUMBER&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
                <span class="nt">&quot;fStr&quot;</span><span class="p">:</span> <span class="s2">&quot;14.8%&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fType&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXT&quot;</span>
          <span class="p">}</span>
        <span class="p">],</span>
        <span class="nt">&quot;fRows&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="nt">&quot;fCols&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
        <span class="nt">&quot;fTimestamp&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nt">&quot;fLength&quot;</span><span class="p">:</span> <span class="mi">0</span>
  <span class="p">},</span>
  <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;Sacramento&quot;</span><span class="p">,</span>
        <span class="s2">&quot;POLICE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;crime&quot;</span>
  <span class="p">],</span>
  <span class="nt">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2013-05-28 00:27:27&quot;</span><span class="p">,</span>
  <span class="nt">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.sacpd.org/crime/stats/&quot;</span><span class="p">,</span>
  <span class="nt">&quot;link&quot;</span><span class="p">:</span> <span class="s2">&quot;http://sacramento.opendata.junar.com/datastreams/77447/sacramento-annual-crime-statistics/&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="establecer-formato-de-valores-numericos">
<h2>Establecer formato de valores númericos<a class="headerlink" href="#establecer-formato-de-valores-numericos" title="Permalink to this headline">¶</a></h2>
<p>El argumento applyFormat permite obtener los resultados de los valores númericos y de fecha en diferentes formatos. Puede utilizarse en llamadas json, ajson y pjson.</p>
<p>Convierte a string con formato estadounidense: <code class="docutils literal"><span class="pre">applyFormat=0</span></code></p>
<blockquote>
<div><a class="reference external" href="http://junardemo.cloudapi.junar.com/api/v2/datastreams/INFRA-INFRA-TOTAL-SUM-FROM/data.pjson/?auth_key=MI_AUTH_KEY&amp;limit=50&amp;applyFormat=0">http://junardemo.cloudapi.junar.com/api/v2/datastreams/INFRA-INFRA-TOTAL-SUM-FROM/data.pjson/?auth_key=MI_AUTH_KEY&amp;limit=50&amp;applyFormat=0</a></div></blockquote>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
        <span class="nt">&quot;Sector&quot;</span><span class="p">:</span> <span class="s2">&quot;Total sectors&quot;</span><span class="p">,</span>
        <span class="nt">&quot;National-Currency-millons&quot;</span><span class="p">:</span> <span class="s2">&quot;16,200.07&quot;</span><span class="p">,</span>
        <span class="nt">&quot;USD-millons&quot;</span><span class="p">:</span> <span class="s2">&quot;5,152.43&quot;</span><span class="p">,</span>
        <span class="nt">&quot;Country&quot;</span><span class="p">:</span> <span class="s2">&quot;Argentina&quot;</span><span class="p">,</span>
        <span class="nt">&quot;Percentage-of-GDP&quot;</span><span class="p">:</span> <span class="s2">&quot;1.41&quot;</span><span class="p">,</span>
        <span class="nt">&quot;Subsector&quot;</span><span class="p">:</span> <span class="s2">&quot;Total subsectors&quot;</span><span class="p">,</span>
        <span class="nt">&quot;Year&quot;</span><span class="p">:</span> <span class="s2">&quot;2008&quot;</span><span class="p">,</span>
        <span class="nt">&quot;Type&quot;</span><span class="p">:</span> <span class="s2">&quot;Public&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Convierte a string aplicando el displayFormat configurado en la vista: <code class="docutils literal"><span class="pre">applyFormat=1</span></code></p>
<blockquote>
<div><a class="reference external" href="http://junardemo.cloudapi.junar.com/api/v2/datastreams/INFRA-INFRA-TOTAL-SUM-FROM/data.pjson/?auth_key=MI_AUTH_KEY&amp;limit=50&amp;applyFormat=1">http://junardemo.cloudapi.junar.com/api/v2/datastreams/INFRA-INFRA-TOTAL-SUM-FROM/data.pjson/?auth_key=MI_AUTH_KEY&amp;limit=50&amp;applyFormat=1</a></div></blockquote>
<div class="highlight-json"><div class="highlight"><pre><span></span>{
        &quot;Sector&quot;: &quot;Total sectors&quot;,
        &quot;National-Currency-millons&quot;: &quot;$ 16,200.07&quot;,
        &quot;USD-millons&quot;: &quot;$5,152.432&quot;,
        &quot;Country&quot;: &quot;Argentina&quot;,
        &quot;Percentage-of-GDP&quot;: &quot;1.40914&quot;,
        &quot;Subsector&quot;: &quot;Total subsectors&quot;,
        &quot;Year&quot;: &quot;2008&quot;,
        &quot;Type&quot;: &quot;Public&quot;
},
</pre></div>
</div>
<p>NUMBER y DATES como double: <code class="docutils literal"><span class="pre">applyFormat=-1</span></code></p>
<blockquote>
<div><a class="reference external" href="http://junardemo.cloudapi.junar.com/api/v2/datastreams/INFRA-INFRA-TOTAL-SUM-FROM/data.pjson/?auth_key=MI_AUTH_KEY&amp;limit=50&amp;applyFormat=-1">http://junardemo.cloudapi.junar.com/api/v2/datastreams/INFRA-INFRA-TOTAL-SUM-FROM/data.pjson/?auth_key=MI_AUTH_KEY&amp;limit=50&amp;applyFormat=-1</a></div></blockquote>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
        <span class="nt">&quot;Sector&quot;</span><span class="p">:</span> <span class="s2">&quot;Total sectors&quot;</span><span class="p">,</span>
        <span class="nt">&quot;National-Currency-millons&quot;</span><span class="p">:</span> <span class="mf">16200.07</span><span class="p">,</span>
        <span class="nt">&quot;USD-millons&quot;</span><span class="p">:</span> <span class="mf">5152.432</span><span class="p">,</span>
        <span class="nt">&quot;Country&quot;</span><span class="p">:</span> <span class="s2">&quot;Argentina&quot;</span><span class="p">,</span>
        <span class="nt">&quot;Percentage-of-GDP&quot;</span><span class="p">:</span> <span class="mf">1.40914</span><span class="p">,</span>
        <span class="nt">&quot;Subsector&quot;</span><span class="p">:</span> <span class="s2">&quot;Total subsectors&quot;</span><span class="p">,</span>
        <span class="nt">&quot;Year&quot;</span><span class="p">:</span> <span class="s2">&quot;2008&quot;</span><span class="p">,</span>
        <span class="nt">&quot;Type&quot;</span><span class="p">:</span> <span class="s2">&quot;Public&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="agrupaciones-y-funciones-sobre-vistas-de-datos">
<h2>Agrupaciones y Funciones sobre vistas de datos<a class="headerlink" href="#agrupaciones-y-funciones-sobre-vistas-de-datos" title="Permalink to this headline">¶</a></h2>
<p>Puedes aplicar algunas FUNCIONES y AGRUPACIONES sobre los datos de una vista. Las operaciones se realizan a demanda sobre un juego de columnas definido en una llamada API y asociados a través de dos parámetros <code class="docutils literal"><span class="pre">groupBy</span></code> y <code class="docutils literal"><span class="pre">function</span></code>. El resultado puede ser reutilizado como una fuente tipo web service REST/JSON para crear nuevos recursos de datos (vistas, visualizaciones) en el área de trabajo. Las funciones disponibles actualmente son SUM (suma), COUNT (contar), y AVG (promedio).</p>
<p>En primer lugar definiremos la columna que servirá para agrupar mediante el parametro <code class="docutils literal"><span class="pre">groupBy</span></code> seguido de un número que indica la jerarquía <code class="docutils literal"><span class="pre">(groupBy0=column0,</span> <span class="pre">groupBy1=column2...)</span></code>. Luego, aplicamos una función <code class="docutils literal"><span class="pre">function</span></code> aplicada en la columna sobre la que vamos a operar. Debes incluir paréntesis cuadrados (brackets) al ingresar la columna, pudiendo concatenar mas de una function agregandole un número entero empezando desde cero <code class="docutils literal"><span class="pre">(function0=SUM[column0],</span> <span class="pre">function1=COUNT[column10])</span></code>.</p>
<p>Por ejemplo, si quisieramos responder a la pregunta por la cantidad de incidencias totales agrupadas según cada estación de respuesta del servicio 911 de esta vista de ejemplo <a class="reference external" href="http://junardemo.opendata.junar.com/dataviews/242684/city-fire-department-911-call-response/">http://junardemo.opendata.junar.com/dataviews/242684/city-fire-department-911-call-response/</a>, el request a la API sería</p>
<blockquote>
<div><a class="reference external" href="http://junardemo.cloudapi.junar.com/api/v2/datastreams/CITY-FIRE-DEPAR-911-CALL/data.ajson/?auth_key=MI_AUTH_KEY&amp;groupBy0=column2&amp;groupBy1=column3&amp;function0=COUNT[column3">http://junardemo.cloudapi.junar.com/api/v2/datastreams/CITY-FIRE-DEPAR-911-CALL/data.ajson/?auth_key=MI_AUTH_KEY&amp;groupBy0=column2&amp;groupBy1=column3&amp;function0=COUNT[column3</a>]</div></blockquote>
<p>Este request retorna los datos en formato ajson. Cualquier otro valor de data.{format} puede ser utilizado también.</p>
<p>El formato de salida data.ajson puede además ser reutilizado para crear un conjunto de datos en Junar usando la API como un servicio web REST/JSON. El path a los datos en todos los casos sería $.result. El uso del caché para el dataset es altamente recomendado, ya que la operación es realizada en línea y el exceso de uso puede degradar el rendimiento de la solicitud.</p>
<p>Proporcionamos otro ejemplo, en este caso usando la función promedio. Si quisieramos conocer el promedio por país y tipo de inversión para el total del periodo publicado de esta vista <a class="reference external" href="http://junardemo.opendata.junar.com/dataviews/242640/infralatam-infrastructure-total-sum-from-all-infrastructure-sectors/">http://junardemo.opendata.junar.com/dataviews/242640/infralatam-infrastructure-total-sum-from-all-infrastructure-sectors/</a>, debemos utilizar el siguiente request:</p>
<blockquote>
<div><a class="reference external" href="http://junardemo.cloudapi.junar.com/api/v2/datastreams/INFRA-INFRA-TOTAL-SUM-FROM/data.ajson/?auth_key=MI_AUTH_KEY&amp;groupBy0=column0&amp;groupBy1=column2&amp;function0=AVG[column6">http://junardemo.cloudapi.junar.com/api/v2/datastreams/INFRA-INFRA-TOTAL-SUM-FROM/data.ajson/?auth_key=MI_AUTH_KEY&amp;groupBy0=column0&amp;groupBy1=column2&amp;function0=AVG[column6</a>]</div></blockquote>
<p>Allí estamos agrupando por país (Columna 0) y por tipo de inversión (columna 2), obteniendo el promedio en millones de dólares (columna 6).</p>
</div>
<div class="section" id="publicacion-y-actualizacion-via-api">
<h2>Publicación y actualización via API<a class="headerlink" href="#publicacion-y-actualizacion-via-api" title="Permalink to this headline">¶</a></h2>
<p>De manera similar a la publicación de conjuntos de datos via API, usted puede crear nuevas vistas de datos sobre datasets ya existentes usando la API de Junar. Para esto utilice las llamadas POST/PUT/PATCH las cuales reciben los siguientes parámetros:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">POST</span>  <span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">v2</span><span class="o">/</span><span class="n">datastreams</span><span class="o">.</span><span class="n">json</span>
<span class="n">PUT</span>   <span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">v2</span><span class="o">/</span><span class="n">datastreams</span><span class="o">/</span><span class="p">:</span><span class="n">guid</span><span class="o">.</span><span class="n">json</span>
<span class="n">PATCH</span> <span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">v2</span><span class="o">/</span><span class="n">datastreams</span><span class="o">/</span><span class="p">:</span><span class="n">guid</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<ul class="simple">
<li>title : Título del recurso. Máximo 100 caracteres.</li>
<li>description : Descripción del recurso. Máximo 250 caracteres.</li>
<li>category : Slug de la categoría para clasificar los recursos. Debe coincidir con alguna de las categorías de la cuenta</li>
<li>notes : Opcional. Texto de la nota del conjunto de datos. Máximo 10.000 caracteres. Soporta texto enriquecido.</li>
<li>dataset : GUID del conjunto de dataos asociado a la vista.</li>
<li>header_row : Opcional. Indice númerico de la fila a usar como cabecera de la tabla comenzando de cero. Por defecto es vacio</li>
<li>table_id : Indice numérico de la tabla en el conjunto de datos, comenzando de cero.</li>
<li>tags : Opcional. Tags separados por coma.</li>
</ul>
<p>El path que termine en data.{format} permite retornar un nuevo campo <code class="docutils literal"><span class="pre">result</span></code>: donde están los datos del origen del recurso</p>
<p>Todas las llamadas en caso de éxito devuelven lo mismo, por ejemplo:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="nt">&quot;endpoint&quot;</span><span class="p">:</span> <span class="s2">&quot;file://1995/46721/313214253556015558595838280659574174401&quot;</span><span class="p">,</span>
  <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;prueba mesa copypaste&quot;</span><span class="p">,</span>
  <span class="nt">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
  <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">],</span>
  <span class="nt">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-02-23T10:34:42&quot;</span><span class="p">,</span>
  <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;prueba&quot;</span><span class="p">,</span>
  <span class="nt">&quot;link&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="nt">&quot;user&quot;</span><span class="p">:</span> <span class="s2">&quot;junarcity&quot;</span><span class="p">,</span>
  <span class="nt">&quot;guid&quot;</span><span class="p">:</span> <span class="s2">&quot;PRUEB&quot;</span><span class="p">,</span>
  <span class="nt">&quot;category_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Financial&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Nuevos tipos de salida se irán incluyendo con el tiempo.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="05-visualizaciones.html" class="btn btn-neutral float-right" title="Visualizaciones" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="03-conjunto_de_datos.html" class="btn btn-neutral" title="Conjunto de Datos" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Junar.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'2.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>